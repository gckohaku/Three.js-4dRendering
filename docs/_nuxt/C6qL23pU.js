import{_ as B,$ as X,a0 as q,a1 as J,a2 as K,r as k,a3 as Q,k as L,a4 as m,Q as _,s as R,J as Z,d as N,K as j,L as z,x as O,y as b,z as ee,M as te,P as oe,N as I,U as ne,V as le,A as se,Z as ie}from"./D_gzLHBP.js";import{_ as H}from"./DlAUqK2U.js";function F(e){return X()?(q(e),!0):!1}const Y=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const re=Object.prototype.toString,ae=e=>re.call(e)==="[object Object]",h=()=>{},x=ue();function ue(){var e,t;return Y&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function ce(...e){if(e.length!==1)return J(...e);const t=e[0];return typeof t=="function"?K(Q(()=>({get:t,set:h}))):k(t)}function C(e){return Array.isArray(e)?e:[e]}function de(e,t,o){return B(e,t,{...o,immediate:!0})}const G=Y?window:void 0;function w(e){var t;const o=m(e);return(t=o==null?void 0:o.$el)!=null?t:o}function M(...e){const t=[],o=()=>{t.forEach(n=>n()),t.length=0},l=(n,s,i,d)=>(n.addEventListener(s,i,d),()=>n.removeEventListener(s,i,d)),a=L(()=>{const n=C(m(e[0])).filter(s=>s!=null);return n.every(s=>typeof s!="string")?n:void 0}),c=de(()=>{var n,s;return[(s=(n=a.value)==null?void 0:n.map(i=>w(i)))!=null?s:[G].filter(i=>i!=null),C(m(a.value?e[1]:e[0])),C(_(a.value?e[2]:e[1])),m(a.value?e[3]:e[2])]},([n,s,i,d])=>{if(o(),!(n!=null&&n.length)||!(s!=null&&s.length)||!(i!=null&&i.length))return;const g=ae(d)?{...d}:d;t.push(...n.flatMap(f=>s.flatMap(y=>i.map(E=>l(f,y,E,g)))))},{flush:"post"}),v=()=>{c(),o()};return F(o),v}let $=!1;function W(e,t,o={}){const{window:l=G,ignore:a=[],capture:c=!0,detectIframe:v=!1,controls:n=!1}=o;if(!l)return n?{stop:h,cancel:h,trigger:h}:h;if(x&&!$){$=!0;const r={passive:!0};Array.from(l.document.body.children).forEach(u=>u.addEventListener("click",h,r)),l.document.documentElement.addEventListener("click",h,r)}let s=!0;const i=r=>m(a).some(u=>{if(typeof u=="string")return Array.from(l.document.querySelectorAll(u)).some(p=>p===r.target||r.composedPath().includes(p));{const p=w(u);return p&&(r.target===p||r.composedPath().includes(p))}});function d(r){const u=m(r);return u&&u.$.subTree.shapeFlag===16}function g(r,u){const p=m(r),S=p.$.subTree&&p.$.subTree.children;return S==null||!Array.isArray(S)?!1:S.some(P=>P.el===u.target||u.composedPath().includes(P.el))}const f=r=>{const u=w(e);if(r.target!=null&&!(!(u instanceof Element)&&d(e)&&g(e,r))&&!(!u||u===r.target||r.composedPath().includes(u))){if("detail"in r&&r.detail===0&&(s=!i(r)),!s){s=!0;return}t(r)}};let y=!1;const E=[M(l,"click",r=>{y||(y=!0,setTimeout(()=>{y=!1},0),f(r))},{passive:!0,capture:c}),M(l,"pointerdown",r=>{const u=w(e);s=!i(r)&&!!(u&&!r.composedPath().includes(u))},{passive:!0}),v&&M(l,"blur",r=>{setTimeout(()=>{var u;const p=w(e);((u=l.document.activeElement)==null?void 0:u.tagName)==="IFRAME"&&!(p!=null&&p.contains(l.document.activeElement))&&t(r)},0)},{passive:!0})].filter(Boolean),D=()=>E.forEach(r=>r());return n?{stop:D,cancel:()=>{s=!1},trigger:r=>{s=!0,f(r),s=!1}}:D}const A=new WeakMap,fe={mounted(e,t){const o=!t.modifiers.bubble;let l;if(typeof t.value=="function")l=W(e,t.value,{capture:o});else{const[a,c]=t.value;l=W(e,a,Object.assign({capture:o},c))}A.set(e,l)},unmounted(e){const t=A.get(e);t&&typeof t=="function"?t():t==null||t.stop(),A.delete(e)}};function T(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function U(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const o=e.parentNode;return!o||o.tagName==="BODY"?!1:U(o)}}function pe(e){const t=e||window.event,o=t.target;return U(o)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const V=new WeakMap;function ve(e,t=!1){const o=R(t);let l=null,a="";B(ce(e),n=>{const s=T(m(n));if(s){const i=s;if(V.get(i)||V.set(i,i.style.overflow),i.style.overflow!=="hidden"&&(a=i.style.overflow),i.style.overflow==="hidden")return o.value=!0;if(o.value)return i.style.overflow="hidden"}},{immediate:!0});const c=()=>{const n=T(m(e));!n||o.value||(x&&(l=M(n,"touchmove",s=>{pe(s)},{passive:!1})),n.style.overflow="hidden",o.value=!0)},v=()=>{const n=T(m(e));!n||!o.value||(x&&(l==null||l()),n.style.overflow=a,V.delete(n),o.value=!1)};return F(v),L({get(){return o.value},set(n){n?c():v()}})}function me(){let e=!1;const t=R(!1);return(o,l)=>{if(t.value=l.value,e)return;e=!0;const a=ve(o,l.value);B(t,c=>a.value=c)}}me();const ge=Z("uiManagerStore",()=>{const e=k([]);function t(a){e.value.push(a)}function o(a){const c=e.value.indexOf(a);c!==-1&&e.value.splice(c,1)}function l(){for(const a of e.value)a();e.value.splice(0)}return{closingOptionEvents:e,registerClosingOptionEvent:t,executeClosingOptionEvents:l,removeClosingOptionEvent:o}}),he={class:"selector-container"},ye=["innerHTML","disabled","title"],be={key:0,class:"options-container"},we=["onClick"],ke=N({__name:"ModuleSelectorIconDisplayButton",props:j({options:{},disabled:{type:Boolean},buttonTitlePropText:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=z(e,"modelValue"),o=e,l=ge(),a=k(o.options[0]),c=k(!1),v=()=>{c.value=!c.value},n=()=>{if(c.value){l.removeClosingOptionEvent(i),i();return}l.executeClosingOptionEvents(),v(),l.registerClosingOptionEvent(i)},s=d=>{l.removeClosingOptionEvent(i),a.value=d,t.value=d.value,c.value=!1},i=()=>{c.value=!1};return(d,g)=>(b(),O("div",he,[ee("button",{class:"selector-button",innerHTML:_(a).icon,onClick:I(n,["stop"]),disabled:o.disabled,title:o.buttonTitlePropText},null,8,ye),_(c)?te((b(),O("div",be,[(b(!0),O(ne,null,le(o.options,f=>(b(),O("div",{class:"option-area",key:f.value,onClick:I(y=>s(f),["self"])},se(f.label),9,we))),128))])),[[_(fe),i,void 0,{bubble:!0}]]):oe("",!0)]))}}),Oe=H(ke,[["__scopeId","data-v-5145a154"]]),_e='<span class="material-symbols-outlined">refresh</span>',Me="letter-spacing: -4px;",Ee=N({__name:"AutoPlayMovingModeSelector",props:j({disabled:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=z(e,"modelValue"),o=e,l=k("rolling"),a=`<span class="material-symbols-outlined" style="${Me} font-size: 0.95rem">arrow_range</span>`,c=`<span>${a}<sub><span style="font-size: .8rem;">Δ</span></sub></span>`,v=`<span>${a}<sub><span class="material-symbols-outlined" style="font-size: .75rem;">timer</span></sub></span>`,n=[{value:"rolling",label:"単方向繰り返し",icon:_e},{value:"thereAndBackDelta",label:"往復 (移動量指定)",icon:c},{value:"thereAndBackTime",label:"往復 (片道の時間指定)",icon:v}];return L(()=>{const s=n.find(i=>i.value===l.value);return s?s.icon:(console.error("Selected moving mode not found in options:",l.value),"")}),(s,i)=>{var g;const d=Oe;return b(),ie(d,{options:n,disabled:o.disabled,modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=f=>t.value=f),"button-title-prop-text":`アニメーションタイプの選択
現在の設定: ${((g=n.find(f=>f.value===t.value))==null?void 0:g.label)??"エラー: 出ないはずのエラーメッセージ"}`},null,8,["disabled","modelValue","button-title-prop-text"])}}}),Ae=H(Ee,[["__scopeId","data-v-9297be57"]]);export{Ae as _,ge as u,fe as v};
